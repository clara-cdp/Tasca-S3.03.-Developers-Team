 <?php echo $this->render('../components/header.phtml'); ?>

<div class="min-h-screen flex items-center justify-center bg-teal-300">
  <div class="w-full max-w-md bg-white rounded-2xl shadow-xl p-8">
    <h1 class="text-center text-lg font-bold tracking-widest text-slate-800 mb-6">UPDATE NEW TASK</h1>
    <form action="<?= WEB_ROOT ?>/updatetask?id=<?= htmlspecialchars($this->task['id']) ?>" method="POST" class="space-y-4">
      <div>
        <label for="name" class="block text-sm font-semibold text-slate-700 mb-1">Title</label>
        <input type="text" id="name" name="name" required value="<?= htmlspecialchars($this->task['name']) ?>" class="w-full rounded-lg border border-teal-400 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500">
      </div>

      <div>
        <label for="description" class="block text-sm font-semibold text-slate-700 mb-1">Description</label>
        <textarea id="description" name="description" rows="4" required class="w-full rounded-lg border border-teal-400 px-3 py-2 text-sm resize-none focus:outline-none focus:ring-2 focus:ring-teal-500"><?= htmlspecialchars($this->task['description']) ?> </textarea>
      </div>

      <div>
        <label for="user" class="block text-sm font-semibold text-slate-700 mb-1">User</label>
        <input type="text" id="user" name="user" required value="<?= htmlspecialchars($this->task['user']) ?>" class="w-full rounded-lg border border-teal-400 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500">
      </div>
      <div>
        <label for="state" class="block text-sm font-semibold text-slate-700 mb-1">
          State
        </label>
        <select name="state" class="w-full rounded-lg border border-teal-400 px-3 py-2 text-sm bg-white focus:outline-none focus:ring-2 focus:ring-teal-500">
          <?= $state = htmlspecialchars($this->task['state']) ?>
          <option value="pending" <?= $state === 'pending'  ? 'selected' : '' ?>>Pending</option>
          <option value="ongoing" <?= $state === 'ongoing' ? 'selected' : '' ?>>Ongoing</option>
          <option value="finished" <?= $state === 'finished' ? 'selected' : '' ?>>Finished</option>
        </select>
      </div>
      <div class="flex gap-4 pt-4">
        <button type="submit" class="flex-1 rounded-lg bg-slate-900 text-white py-2 text-sm font-semibold tracking-wider hover:bg-slate-800 transition">SAVE</button>
        <a href="<?= WEB_ROOT ?>/home" class="flex-1 text-center rounded-lg bg-slate-900 text-white py-2 text-sm font-semibold tracking-wider hover:bg-slate-800 transition">
          RETURN
        </a>
      </div>
    </form>
  </div><div class="mt-auto">
   <?php echo $this->render('../components/footer.phtml'); ?>
 </div>
</div>
